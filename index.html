<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebGIS Pariwisata Banyuwangi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==" crossorigin=""/>
    <link rel="stylesheet" href="src/leaflet.groupedlayercontrol.min.css" />
    <link rel="stylesheet" href="src/Control.Geocoder.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.76.1/dist/L.Control.Locate.min.css" />
    <link rel="stylesheet" type="text/css" href="src/L.Control.ZoomBar.css"/>
    <link rel="stylesheet" href="src/leaflet-routing-machine.css" />
    <style>
        *{
            padding: 0;
            margin: 0;
            text-decoration: none;
            list-style: none;
            box-sizing: border-box;
            font-family: Arial, Helvetica, sans-serif;
            text-transform: capitalize;
        }
        body{
            font-family: Arial, Helvetica, sans-serif;
        }
        header{
            position: relative;
            top: 0; left: 0; right: 0;
            background: #FFFFFF;
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 1000;
        }
        header .logo{
            font-weight: bolder;
            font-size: 25px;
            color: #000;
            padding-left: 2%;
        }
        header .navbar{
            padding-right: 2%;
        }
        header .navbar ul{
            list-style: none;
        }
        header .navbar ul li{
            position: relative;
            float: left;
        }
        header .navbar ul li .active{
            background-color: #00BFFF;
            color: #FFFFFF;
        }
        header .navbar ul li a{
            font-size: 20px;
            padding: 21px;
            color: #000;
            display: block;
        }
        header .navbar ul li a:hover{
            background: #00BFFF;
            color: #FFFFFF;
        }
        #menu-bar{
            display: none;
        }
        header label{
            font-size: 20px;
            color: #000;
            cursor: pointer;
            display: none;
        }
        header label img{
            size: 35px;
        }

        .content{
            height: 590px;
        }
        #map {
            float: left;
            height: 100%;
            width: 100%;
        }
        .leaflet-control-container .leaflet-routing-container-hide {
            width: 35px;
            height: 35px;
            background:#fff url(img/route.png) no-repeat 0 0;
	        background-size:31px 31px;
            border: 2px solid #A9A9A9;
        }
        .leaflet-control-locate a .leaflet-control-locate-location-arrow {
            -webkit-mask-image:url("img/my-location.svg");mask-image:url("img/my-location.svg");
        }

        .container{
            background: #24262b;
        }
        .row {
            display: flex;
            flex-wrap: wrap;
        }
        .row h3{
            margin-bottom: 25px;
            text-transform: capitalize;
            position: relative;
            color: #FFFFFF;
        }
        .row h3::before{
            content: '';
            position: absolute;
            left: 0;
            bottom: -10px;
            background-color: #1e90ff;
            height: 2px;
            box-sizing: border-box;
            width: 75px;
        }
        .footer-bag{
            width: 33.33%;
            padding: 3%;
        }
        .footer-bag p{
            color: #bbbbbb;
        }
        .footer-bag ul li{
            margin-bottom: 7px;
        }
        .footer-bag ul li a{
            text-transform: capitalize;
            color: #FFFFFF;
            font-weight: 300;
            color: #bbbbbb;
            display: block;
        }
        .footer-bag ul li a:hover{
            color: #FFFFFF;
        }
        .footer-bag .social-links a{
            display: inline-block;
            height: 35px;
            width: 35px;
            background-color: rgba(255, 255, 255, .2);
            color: #bbbbbb;
            margin: 0 7px 7px 0;
            text-align: center;
            line-height: 35px;
            border-radius: 50%;
            transition: all 0.5s ease;
        }
        .footer-bag .social-links a:hover{
            color: #24262b;
            background-color: #FFFFFF;
        }
        .copyright{
            height: 50px;
            background-color: #24262b;
            color: #bbbbbb;
            text-align: center;
            line-height: 50px;
            font-size: 15px;
            border-top: 1px solid #aaaaaa;
        }

        @media(max-width:850px){
            header{
                padding: 20px;
            }
            header label{
                display: initial;
            }
            header .navbar {
                position: absolute;
                top: 100%; left: 0; right: 0;
                background: #FFFFFF;
                border-top: 1px solid rgba(0, 0, 0, .1);
                display: none;
                padding-right: 0%;
            }
            header .navbar ul li{
                width: 100%;
                border-bottom: 1px solid rgba(0, 0, 0, .1);
            }
            header .navbar ul li a{
                padding: 17px;
            }
            #menu-bar:checked ~ .navbar{
                display: initial;
            }

            .content{
                min-height: 530px;
                max-height: 2000px;
            }

            .footer-bag {
                width: 100%;
            }
            .copyright{
                font-size: 10px;
            }
        }
        @media(max-width:420px){
            .content{
                max-height: 520px;
            }
            .copyright{
                font-size: 7px;
            }
            header .logo{
                font-size: 17px;
            }
            header img{
                width: 35px;
                height: 35px;
            }
        }
    </style>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
    <header>
        <a href="#" class="logo">WebGIS Pariwisata Banyuwangi</a>
        <input type="checkbox" id="menu-bar">
        <label for="menu-bar"><img src="img/icon-menu.png"></label>
        <nav class="navbar">
            <ul>
                <li><a href="#">Home</a></li>
                <li><a class="active" href="#">Map</a></li>
                <li><a href="#">Destination</a></li>
                <li><a href="#">Blog</a></li>
                <li><a href="#">About</a></li>
            </ul>
        </nav>
    </header>
    <div class="content">
        <div id="map"></div>
    </div>
    <footer>
        <div class="container">
            <div class="row">
                <div class="footer-bag">
                    <h3>WebGIS</h3>
                    <p>WebGIS Pariwisata Banyuwangi menyajikan informasi terkait objek wisata di Kabupaten Banyuwangi dan prasarana penunjang pariwisata.</p>
                </div>
                <div class="footer-bag">
                    <h3>Informasi</h3>
                    <ul>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Tentang</a></li>
                        <li><a href="#">Kontak</a></li>
                    </ul>
                </div>
                <div class="footer-bag">
                    <h3>Media Sosial</h3>
                    <div class="social-links">
                        <a href="#" class="fa fa-facebook"></a>
                        <a href="#" class="fa fa-instagram"></a>
                        <a href="#" class="fa fa-twitter"></a>
                        <a href="#" class="fa fa-youtube"></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>Copyright © 2022 WebGIS Pariwisata Banyuwangi | Presented by Mohammad Rizal Ardiansyah</p>
        </div>
    </footer>
</body>
<script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==" crossorigin=""></script>
<script src="src/leaflet.groupedlayercontrol.min.js"></script>
<script src="src/Control.Geocoder.js"></script>
<script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.76.1/dist/L.Control.Locate.min.js" charset="utf-8"></script>
<script type="text/javascript" src="src/L.Control.ZoomBar.js"></script>
<script src="src/leaflet-routing-machine.js"></script>
   <script src="src/leaflet.ajax.js"></script>
   <script>
       
    (function() {
//         var mbAttr = 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>';
//         var mbUrl = 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';

        var basemaps = {
            OpenStreetMap: L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }),
            Satellite: L.tileLayer('https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png', {attribution: '&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'
            }),
            OpenTopoMap: L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {attribution: 'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
            })
        };

        var groups = {
		cities: new L.GeoJSON.AJAX(["geojson/Kecamatan_Banyuwangi.geojson"],{style: {"fillColor":"#7FFFD4", "fillOpacity":"0.3", "color":"#008B8B", "weight": 0.3, "opacity":0.8}}),
		jalan: new L.GeoJSON.AJAX(["geojson/Jalan_Banyuwangi.geojson"],{onEachFeature:popUp, style : function (feature){
			jal = feature.properties.REMARK;
			return {
				color: getColor(jal),
				weight: getWeight(jal),
				opacity: 0.7
			}
		}}),
		rel: new L.GeoJSON.AJAX(["geojson/Rel_Kereta.geojson"],{onEachFeature:popUp, style: {"color":"#000", "weight": 0.5}}),
		wisata: new L.GeoJSON.AJAX(["geojson/Objek_Wisata.geojson"],{pointToLayer: function(geoJsonPoint, latlng) {return L.marker(latlng, { icon: wisataIcon }); },onEachFeature:popUpOW}),
		setasiun: new L.GeoJSON.AJAX(["geojson/stasiun.geojson"],{pointToLayer: function(geoJsonPoint, latlng) {return L.marker(latlng, { icon: stasiunIcon }); },onEachFeature:popUp}),
		terminal: new L.GeoJSON.AJAX(["geojson/Terminal.geojson"],{pointToLayer: function(geoJsonPoint, latlng) {return L.marker(latlng, { icon: terminalIcon }); },onEachFeature:popUp}),
		pelabuhan: new L.GeoJSON.AJAX(["geojson/Pelabuhan.geojson"],{pointToLayer: function(geoJsonPoint, latlng) {return L.marker(latlng, { icon: pelabuhanIcon }); },onEachFeature:popUp}),
		bandara: new L.GeoJSON.AJAX(["geojson/Bandara.geojson"],{pointToLayer: function(geoJsonPoint, latlng) {return L.marker(latlng, { icon: bandaraIcon }); },onEachFeature:popUp}),
		spbu: new L.GeoJSON.AJAX(["geojson/spbu.geojson"],{pointToLayer: function(geoJsonPoint, latlng) {return L.marker(latlng, { icon: spbuIcon }); },onEachFeature:popUp}),
		hotel: new L.GeoJSON.AJAX(["geojson/hotel.geojson"],{pointToLayer: function(geoJsonPoint, latlng) {return L.marker(latlng, { icon: hotelIcon }); },onEachFeature:popUp}),
		dogs: new L.LayerGroup()
        };
	    
	//color jalan
	function getColor(d) {
	    return d == 'Jalan Arteri' ? '#FF5100' :
		   d == 'Jalan Kolektor' ? '#FF8C00' :
		   d == 'Jalan Lain' ? '#828282' :
		   d == 'Jalan Lokal' ? '#9B5AFF' :
		   d == 'Jalan Setapak' ? '#9C9C9C' :
		   d == 'Jalan Tol Dua Jalur Dengan Pemisah Fisik' ? '#F50000' :
			'#59FD02';
	}
	
	//weight jalan
	function getWeight(a) {
		return a == 'Jalan Arteri' ? '2' :
		   	a == 'Jalan Kolektor' ? '2' :
		   	a == 'Jalan Lain' ? '1' :
		   	a == 'Jalan Lokal' ? '1.5' :
		   	a == 'Jalan Setapak' ? '1' :
		   	a == 'Jalan Tol Dua Jalur Dengan Pemisah Fisik' ? '1.5' :
			'#59FD02';
	}
	
	// Icon point
	var wisataIcon = L.icon({iconUrl: 'img/icons-travel.png', iconSize: [23, 25]});
	var stasiunIcon = L.icon({iconUrl: 'img/icon-stasiun.png', iconSize: [23, 25]});
	var terminalIcon = L.icon({iconUrl: 'img/icon-terminal.png', iconSize: [23, 25]});
	var pelabuhanIcon = L.icon({iconUrl: 'img/icon-pelabuhan.png', iconSize: [23, 25]});
	var bandaraIcon = L.icon({iconUrl: 'img/icon-bandara-1.png', iconSize: [23, 25]});
	var spbuIcon = L.icon({iconUrl: 'img/icon-spbu.png', iconSize: [23, 25]});
	var hotelIcon = L.icon({iconUrl: 'img/icon-hotel.png', iconSize: [23, 25]});
	var greenIcon = L.icon({iconUrl: 'marker-shadow.png', iconSize: [38, 95]});


	//Layer Group
        window.ExampleData = {
        LayerGroups: groups,
        Basemaps: basemaps
        };

        }());
        
        //Base Map
        var map = L.map('map', {
            center: [-8.331645, 114.149657],
            zoom: 9,
            layers: [ExampleData.Basemaps.OpenStreetMap, ExampleData.LayerGroups.cities],
            zoomControl: false
        });

        // Overlay layers are grouped
        var groupedOverlays = {
	"Objek Wisata": {
		"&nbsp;<img src='img/map-pin.png' height=17>&nbsp;Objek Wisata": ExampleData.LayerGroups.wisata
        },
        "Prasarana Transportasi": {
		"&nbsp;<img src='img/airport-2.png' height=17>&nbsp;Bandara": ExampleData.LayerGroups.bandara,
		"&nbsp;<img src='img/pelabuhan.png' height=17>&nbsp;Pelabuhan": ExampleData.LayerGroups.pelabuhan,
		"&nbsp;<img src='img/stasiun.png' height=17>&nbsp;Stasiun": ExampleData.LayerGroups.setasiun,
		"&nbsp;<img src='img/terminal.png' height=17>&nbsp;Terminal": ExampleData.LayerGroups.terminal,
		"&nbsp;<img src='img/jalan.png' height=17>&nbsp;Jalan": ExampleData.LayerGroups.jalan,
		"&nbsp;<img src='img/rel.png' height=17>&nbsp;Jalur Kereta Api": ExampleData.LayerGroups.rel
        },
	"Prasarana Penunjang": {
		"&nbsp;<img src='img/hotel.png' height=17>&nbsp;Hotel": ExampleData.LayerGroups.hotel,
		"&nbsp;<img src='img/spbu.png' height=17>&nbsp;SPBU": ExampleData.LayerGroups.spbu
        },
	"Administrasi": {
        	"&nbsp;<img src='img/map.png' height=17>&nbsp;Administrasi Kecamatan": ExampleData.LayerGroups.cities
        }
        };

        // Use the custom grouped layer control, not "L.control.layers"
        L.control.groupedLayers(ExampleData.Basemaps, groupedOverlays).addTo(map);

        function popUpOW(f,l){
            var out = [];
            if (f.properties){
                for(key in f.properties){
                    out.push("&nbsp;"+f.properties[key]+"<br/> <img src='img/Pulau-Merah.jpg' height=100 width=150> <p>Pulau Merah merupakan salah satu destinasi wisata unggulan di Kabupaten Banyuwangi.</p>");
                }
                l.bindPopup(out.join("<br />"));
            }
        }
	   
	function popUp(f,l){
            var out = [];
            if (f.properties){
                for(key in f.properties){
                    out.push("&nbsp;"+f.properties[key]);
                }
                l.bindPopup(out.join("<br />"));
            }
        }
    //search box
    L.Control.geocoder().addTo(map);


    //Zoom Control
    var zoom_bar = new L.Control.ZoomBar({position: 'topleft'}).addTo(map);

    //Lokasi Saya
    L.control.locate().addTo(map);

    //Rute Terdekat
    L.Routing.control({
        // waypoints: [
        //     L.latLng(57.74, 11.94),
        //     L.latLng(57.6792, 11.949)
        // ],
        routeWhileDragging: false,
        collapsible: true,
        geocoder: L.Control.Geocoder.nominatim()
    }).addTo(map);
    
   </script>
</html>
